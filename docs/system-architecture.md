# 시스템 아키텍처 설계

## 프로젝트 개요

**프로젝트명**: Question Diary (질문 다이어리)
**목표**: 사용자가 매일 하나의 질문에 답변을 작성하는 일기 형태의 웹 애플리케이션

## 기술 스택

### Frontend
- **React 19.1+** - 최신 React 기능 활용
- **TypeScript** - 타입 안정성
- **Tailwind CSS 4.x** - 현대적 스타일링
- **Vite** - 빠른 개발 환경

### Backend
- **Supabase** - BaaS (Backend as a Service)
  - PostgreSQL 데이터베이스
  - 실시간 구독
  - 인증 시스템 (향후 확장 시)
  - REST API 자동 생성

## 시스템 아키텍처

```
┌─────────────────┐    ┌──────────────────┐    ┌─────────────────┐
│   Frontend      │    │    Supabase      │    │   Database      │
│   (React App)   │◄──►│   (BaaS Layer)   │◄──►│  (PostgreSQL)   │
│                 │    │                  │    │                 │
│ • 질문 표시     │    │ • REST API       │    │ • questions     │
│ • 답변 작성     │    │ • 실시간 구독     │    │ • responses     │
│ • 과거 기록 조회 │    │ • 데이터 검증     │    │ • users (미래)  │
└─────────────────┘    └──────────────────┘    └─────────────────┘
```

## 핵심 기능 모듈

### 1. 질문 관리 시스템
- **목적**: 365개 이상의 질문을 관리하고 랜덤하게 제공
- **구현**:
  - 질문 데이터베이스 테이블
  - 날짜별 질문 선택 알고리즘
  - 중복 방지 로직

### 2. 답변 관리 시스템
- **목적**: 사용자 답변 저장 및 조회
- **구현**:
  - 답변 저장 API
  - 과거 답변 조회 기능
  - 답변 수정/삭제 기능

### 3. UI 컴포넌트 시스템
- **목적**: 일관되고 접근성 있는 사용자 인터페이스
- **구성**:
  - 질문 표시 컴포넌트
  - 답변 작성 폼
  - 과거 기록 리스트
  - 네비게이션

## 데이터 흐름

### 일일 질문 제공 플로우
```
1. 사용자 접속
2. 현재 날짜 확인
3. 해당 날짜의 답변 존재 여부 확인
4. 답변이 없으면 → 새로운 질문 제공
5. 답변이 있으면 → 기존 답변과 질문 표시
```

### 답변 저장 플로우
```
1. 사용자 답변 작성
2. 클라이언트 사이드 검증
3. Supabase API 호출
4. 데이터베이스 저장
5. 성공 피드백
```

## 상태 관리

### React 상태 관리 전략
- **로컬 상태**: `useState` - 폼 입력, UI 상태
- **서버 상태**: Supabase 실시간 구독 - 질문/답변 데이터
- **전역 상태**: Context API (필요시) - 사용자 설정

## 보안 및 데이터 정책

### 현재 단계 (MVP)
- 클라이언트 사이드 검증
- Supabase RLS (Row Level Security) 기본 설정
- 입력 데이터 검증

### 향후 확장
- 사용자 인증 시스템
- 개인 데이터 암호화
- 백업 및 복구 시스템

## 성능 고려사항

### 최적화 전략
- **코드 분할**: React.lazy를 통한 컴포넌트 지연 로딩
- **데이터 캐싱**: Supabase 쿼리 캐싱
- **이미지 최적화**: 필요시 이미지 압축
- **번들 최적화**: Vite의 트리 쉐이킹 활용

### 확장성 고려
- 질문 수 증가에 대비한 페이지네이션
- 사용자 증가 시 Supabase 플랜 확장
- CDN 활용 (향후)

## 배포 및 호스팅

### 권장 배포 환경
- **Frontend**: Vercel, Netlify
- **Backend**: Supabase (호스팅 포함)
- **도메인**: 커스텀 도메인 연결 가능

### CI/CD 파이프라인
- GitHub Actions를 통한 자동 배포
- 빌드 테스트 자동화
- 환경변수 관리

## 모니터링 및 분석

### 추후 고려사항
- Supabase Analytics 활용
- 사용자 행동 분석
- 에러 모니터링 (Sentry 등)
- 성능 모니터링

## 확장 가능성

### Phase 2 기능
- 사용자 계정 시스템
- 답변 검색 기능
- 답변 내보내기 (PDF, 텍스트)
- 질문 카테고리 분류

### Phase 3 기능
- 소셜 공유 기능
- 커스텀 질문 생성
- 답변 통계 및 인사이트
- 모바일 앱 버전